<br><b> Выполнение</b>

<br>• Подключились к ВМ с Postgresql, созданной в VirtualBox, создали базу test_backup. В ней создали и заполнили данными таблицу student:

```
create table student as 
select 
  generate_series(1,100) as id,
  md5(random()::text)::char(10) as fio;
```

<br>• Создаём папку для бэкапа:

```
sudo su
root@yuriy:/home/yuriy# mkdir /home/backups_psql
root@yuriy:/home/yuriy# chown postgres /home/backups_psql
root@yuriy:/home/yuriy# 
```

<img width="1606" height="169" alt="1" src="https://github.com/user-attachments/assets/6aac626c-4e72-4305-bd0c-2135db5f2a3b" />

<br>• Делаем логический бэкап используя утилиту COPY:</b>

```
test_backup=# copy student to '/home/backups_psql/out.sql';
COPY 100
```

<img width="1609" height="85" alt="2" src="https://github.com/user-attachments/assets/fadcebf6-7870-4341-8a72-00eec11eb125" />


<br>• Проверяем наличие файла:

<img width="1591" height="507" alt="3" src="https://github.com/user-attachments/assets/7fe80b4d-7379-4137-90e8-b8ff17059913" />

<br>• Для восстановления данных создаём новую таблицу student_back:

```
create table student_back(id int, fio text)
```

<br>• Пока таблица пустая:

```
select * from student_back
```

<img width="1744" height="935" alt="4" src="https://github.com/user-attachments/assets/711822fe-d3a6-4e4f-8c07-ba42812db5fe" />

<br>• Восстанавливаем данные в новую таблицу student_back:</b>

```
copy student_back from '/home/backups_psql/out.sql'
```

<br>• Данные успешно перенеслись:</b>

<img width="1765" height="992" alt="5" src="https://github.com/user-attachments/assets/4823eb71-80b0-44e7-a7f8-e05a99860781" />

<br>• Используя утилиту pg_dump создали бэкап в кастомном сжатом формате двух таблиц:</b>

```
sudo su
pg_dump -d test_backup -t public.student -t public.student_back -U postgres -Fc > /home/backups_psql/custom.gz
```

<br>• Проверяем создание файла:

<img width="1599" height="468" alt="6" src="https://github.com/user-attachments/assets/4002032d-c616-4d7e-b898-fff662b004ce" />

<br>• Используя утилиту pg_restore восстановим в новую БД (test_backup_restore) только вторую таблицу:</b>

```
sudo su
pg_restore -t student_back -U postgres -d test_backup_restore /home/backups_psql/custom.gz
```

<br>• Проверяем данные:

<img width="1756" height="1031" alt="7" src="https://github.com/user-attachments/assets/9e16f0c8-d6fc-45d8-a69b-a20789d9e515" />


<br>• Данные перенеслись корректно.
<br>
